{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGallaryItem = itemImages => {\n  return itemImages\n    .map(\n      images =>\n        `<div class=\"js-section-images\">\n        <a href=\"${images.largeImageURL}\">\n        <img\n          src=\"${images.webformatURL}\"\n          alt=\"${images.tags}\"\n          class=\"js-gallery-img\"\n        /></a>\n        <div class=\"js-group-text\">\n          <small class=\"js-text\"\n            >Likes <span class=\"js-span-text\">${images.likes}</span></small\n          >\n          <small class=\"js-text\"\n            >Views <span class=\"js-span-text\">${images.views}</span></small\n          >\n          <small class=\"js-text\"\n            >Comments <span class=\"js-span-text\">${images.comments}</span></small\n          >\n          <small class=\"js-text\"\n            >Downloads\n            <span class=\"js-span-text\">${images.downloads}</span></small\n          >\n        </div>\n    </div>`\n    )\n    .join('');\n};\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43826847-f350fa9fd32410ec3fefedfc5';\n\nexport const fetchPhotosByQuery = (q = 'flowers') => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error('Error!');\n    }\n    return response.json();\n  });\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { createGallaryItem } from './js/render-functions.js';\nimport { fetchPhotosByQuery } from './js/pixabay-api.js';\n\nconst galleryEl = document.querySelector('.js-gallery');\nconst searchFormEl = document.querySelector('.form-field');\nconst loaderEl = document.querySelector('.loader');\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\nfunction onSearchFormSubmit(event) {\n  event.preventDefault();\n  const searchQuery = event.target.elements.searchKeyword.value.trim();\n  if (searchQuery === '') {\n    galleryEl.innerHTML = '';\n    event.target.reset();\n    iziToast.error({\n      timeout: 2000,\n      position: 'topRight',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      messageColor: '#fff',\n      backgroundColor: '#d37a7a',\n      close: false,\n      closeOnClick: true,\n    });\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n\n  fetchPhotosByQuery(searchQuery)\n    .then(imagesData => {\n      if (imagesData.hits.length === 0) {\n        iziToast.error({\n          timeout: 2000,\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fff',\n          backgroundColor: '#d37a7a',\n          close: false,\n          closeOnClick: true,\n        });\n      }\n      const markup = createGallaryItem(imagesData.hits);\n\n      galleryEl.innerHTML = markup;\n\n      new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      // lightbox.refresh();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      event.target.reset();\n      loaderEl.classList.add('is-hidden');\n    });\n}\n"],"names":["createGallaryItem","itemImages","images","BASE_URL","API_KEY","fetchPhotosByQuery","q","searchParams","response","galleryEl","searchFormEl","loaderEl","onSearchFormSubmit","event","searchQuery","iziToast","imagesData","markup","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAoBC,GACxBA,EACJ,IACCC,GACE;AAAA,mBACWA,EAAO,aAAa;AAAA;AAAA,iBAEtBA,EAAO,YAAY;AAAA,iBACnBA,EAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gDAKoBA,EAAO,KAAK;AAAA;AAAA;AAAA,gDAGZA,EAAO,KAAK;AAAA;AAAA;AAAA,mDAGTA,EAAO,QAAQ;AAAA;AAAA;AAAA;AAAA,yCAIzBA,EAAO,SAAS;AAAA;AAAA;AAAA,WAIpD,EACA,KAAK,EAAE,EC5BNC,EAAW,2BACXC,EAAU,qCAEHC,EAAqB,CAACC,EAAI,YAAc,CACnD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAAE,EACA,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,QAAQ,EAE1B,OAAOA,EAAS,MACpB,CAAG,CACH,ECRMC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAe,SAAS,cAAc,aAAa,EACnDC,EAAW,SAAS,cAAc,SAAS,EAEjDD,EAAa,iBAAiB,SAAUE,CAAkB,EAC1D,SAASA,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,cAAc,MAAM,OAC9D,GAAIC,IAAgB,GAAI,CACtBL,EAAU,UAAY,GACtBI,EAAM,OAAO,QACbE,EAAS,MAAM,CACb,QAAS,IACT,SAAU,WACV,QACE,2EACF,aAAc,OACd,gBAAiB,UACjB,MAAO,GACP,aAAc,EACpB,CAAK,EACD,MACD,CAEDN,EAAU,UAAY,GACtBE,EAAS,UAAU,OAAO,WAAW,EAErCN,EAAmBS,CAAW,EAC3B,KAAKE,GAAc,CACdA,EAAW,KAAK,SAAW,GAC7BD,EAAS,MAAM,CACb,QAAS,IACT,SAAU,WACV,QACE,2EACF,aAAc,OACd,gBAAiB,UACjB,MAAO,GACP,aAAc,EACxB,CAAS,EAEH,MAAME,EAASjB,EAAkBgB,EAAW,IAAI,EAEhDP,EAAU,UAAYQ,EAEtB,IAAIC,EAAe,aAAc,CAC/B,aAAc,MACd,aAAc,GACtB,CAAO,CAEP,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbN,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL"}